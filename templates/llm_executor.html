{% extends "base.html" %}

{% block tab_content %}
<!-- LLM Task Executor Tab Panel -->
<div id="tab-llm-executor" class="tab-panel active"> {# Add 'active' class if this is the default tab #}
    <h1>LLM Task Executor</h1>

    <div class="warning">
        <strong>Security Warning:</strong> Commands generated by the LLM based on your prompt will be executed directly on the server. Ensure you trust the LLM's output and understand the potential risks before proceeding. Improper commands could lead to data loss, security vulnerabilities, or system instability. Use with extreme caution, especially in production environments. Review proposed commands carefully if possible.
    </div>

    <form id="promptForm" novalidate>
        <div class="form-group">
            <label for="promptInput">Describe the task:</label>
            <textarea id="promptInput" name="prompt" required placeholder="e.g., 'Install htop using apt'"></textarea>
        </div>
        <div class="form-group" style="display: flex; align-items: center; margin-top: 15px;"> {# Added margin-top for spacing #}
            <label for="maxRetriesInput" style="margin-bottom: 0; margin-right: 10px;">Max Retries (if commands fail):</label> {# Added margin-right #}
            <input type="number" id="maxRetriesInput" name="max_retries" value="3" min="0" max="10">
        </div>
         <button type="submit" id="submitBtn" style="margin-top: 20px;">Execute Task</button> {# Added margin-top #}
    </form>

    <div id="status"></div>
    <div id="results">Results will appear here after execution...</div>
</div> <!-- End LLM Task Executor Tab Panel -->
{% endblock %}